{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\vhand\\\\Documents\\\\coding assignments\\\\world-clock\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport countries from './countries';\n\nconst App = () => {\n  _s();\n\n  const [countryID, setCountryID] = useState('');\n  const [timezoneByCountry, setTimezoneByCountry] = useState([]);\n  const [selectedTZ, setSelectedTZ] = useState('');\n  let bool = false;\n\n  const getCountryByClick = event => {\n    const theID = event.target.value;\n\n    if (theID !== \"Select a country\") {\n      console.log(theID);\n      let selectedCountry = countries.find(el => theID === el.alpha2);\n      setCountryID(selectedCountry.alpha2.toUpperCase());\n    }\n  };\n\n  useEffect(() => {\n    fetch(`/timezone/${countryID}`).then(res => res.json()).then(res => {\n      setTimezoneByCountry(res.data.timezones); //console.log(res);\n    });\n  }, [countryID]);\n\n  if (timezoneByCountry.length >= 1) {\n    bool = true;\n  }\n\n  useEffect(() => {\n    fetch('/timezone/zone', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'zone': selectedTZ\n      })\n    }).then(res => res.json()).then(res => console.log(res));\n  }, [selectedTZ]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: getCountryByClick,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Select a country\",\n        children: \"Select a country\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), countries.map(el => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: el.alpha2,\n          id: el.alpha2,\n          children: el.name\n        }, el.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 18\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), bool && /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: ev => {\n        let zone = ev.target.value;\n        console.log(zone);\n        setSelectedTZ(zone);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        autofocus: true,\n        value: \"country specific region\",\n        children: \"Select country specific timezone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), timezoneByCountry.map(el => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: el,\n          id: el,\n          children: el\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 20\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"DjiJ9IBUHudUlFlxo1upNOgFfns=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/vhand/Documents/coding assignments/world-clock/frontend/src/App.js"],"names":["React","useEffect","useState","styled","countries","App","countryID","setCountryID","timezoneByCountry","setTimezoneByCountry","selectedTZ","setSelectedTZ","bool","getCountryByClick","event","theID","target","value","console","log","selectedCountry","find","el","alpha2","toUpperCase","fetch","then","res","json","data","timezones","length","method","headers","body","JSON","stringify","map","name","ev","zone"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport countries from './countries'\n\n\nconst App=() => {\n  const [countryID, setCountryID]=useState('');\n  const [timezoneByCountry, setTimezoneByCountry]=useState([]);\n  const [selectedTZ, setSelectedTZ]=useState('');\n  let bool=false;\n\n  const getCountryByClick=(event)=>{\n    const theID=event.target.value;\n    if(theID!==\"Select a country\"){\n      console.log(theID);\n      let selectedCountry= countries.find(el=>theID===el.alpha2)\n      setCountryID(selectedCountry.alpha2.toUpperCase());\n    }\n  };\n  useEffect(()=>{\n    fetch(`/timezone/${countryID}`)\n    .then(res=>res.json())\n    .then(res=>{\n      setTimezoneByCountry(res.data.timezones);\n      //console.log(res);\n    });\n  },[countryID]);\n\n  if(timezoneByCountry.length>=1){\n    bool=true;\n  }\n\n  useEffect(()=>{\n    fetch('/timezone/zone', {\n      method:'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({'zone': selectedTZ})\n    })\n    .then(res=>res.json())\n    .then(res=>console.log(res))\n  },[selectedTZ]);\n  \n  return (\n    <div>\n      <select onChange={getCountryByClick}>\n      <option value=\"Select a country\">Select a country</option>\n        {countries.map(el=>{\n          return <option value={el.alpha2}\n                  key={el.name} \n                  id={el.alpha2}\n                  >{el.name}</option>\n        })}\n      </select>\n      {bool && <select onChange={(ev)=>{\n                  let zone=ev.target.value;\n                  console.log(zone);\n                  setSelectedTZ(zone);\n                }} \n              >\n          <option autofocus value=\"country specific region\">Select country specific timezone</option>\n          {timezoneByCountry.map(el=>{\n            return <option value={el}\n                            id={el}\n                    >{el}</option>\n          })}\n        </select>}\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}