{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\vhand\\\\Documents\\\\coding assignments\\\\world-clock\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport countries from './countries';\n\nconst App = () => {\n  _s();\n\n  const [countryID, setCountryID] = useState('');\n  const [timezoneByCountry, setTimezoneByCountry] = useState([]);\n  const [selectedTZ, setSelectedTZ] = useState('');\n  const [selectedTime, setSelectedTime] = useState('');\n  let bool = false;\n  let timeBool = false;\n\n  const getCountryByClick = event => {\n    const theID = event.target.value;\n\n    if (theID !== \"Select a country\") {\n      console.log(theID);\n      let selectedCountry = countries.find(el => theID === el.alpha2);\n      setCountryID(selectedCountry.alpha2.toUpperCase());\n    }\n  };\n\n  useEffect(() => {\n    document.title = \"World Clock\";\n  }, []);\n\n  const getZoneByClick = event => {\n    let zone = event.target.value;\n\n    if (zone !== \"Select country specific timezone\") {\n      console.log(zone);\n      setSelectedTZ(zone);\n    }\n  };\n\n  useEffect(() => {\n    fetch(`/timezone/${countryID}`).then(res => res.json()).then(res => {\n      setTimezoneByCountry(res.data.timezones); //console.log(res);\n    });\n  }, [countryID]);\n\n  if (timezoneByCountry.length >= 1) {\n    bool = true;\n  }\n\n  if (selectedTime.length !== 0) {\n    timeBool = true;\n  }\n\n  useEffect(() => {\n    fetch('/timezone/zone', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'zone': selectedTZ\n      })\n    }).then(res => res.json()).then(res => setSelectedTime(res.message));\n  }, [selectedTZ]);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Select1, {\n      onChange: getCountryByClick,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Select a country\",\n        children: \"Select a country\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), countries.map(el => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: el.alpha2,\n          id: el.alpha2,\n          children: el.name\n        }, el.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 18\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), bool && /*#__PURE__*/_jsxDEV(Select2, {\n      onChange: getZoneByClick,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Select country specific timezone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), timezoneByCountry.map(el => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          value: el,\n          id: el,\n          children: el\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 20\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 16\n    }, this), timeBool && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: selectedTime\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"iGx3RaQcz9sJmyZTcuj6j2eG9PY=\");\n\n_c = App;\nexport default App;\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction:column;\n  justify-content: center;\n  align-items: center;\n  vertical-align: middle;\n  height:100vh;\n`;\n_c2 = Wrapper;\nconst Select1 = styled.select`\n  width:400px;\n  margin:10px;\n`;\n_c3 = Select1;\nconst Select2 = styled.select`\n  width:300px;\n  margin:10px;\n`;\n_c4 = Select2;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"Select1\");\n$RefreshReg$(_c4, \"Select2\");","map":{"version":3,"sources":["C:/Users/vhand/Documents/coding assignments/world-clock/frontend/src/App.js"],"names":["React","useEffect","useState","styled","countries","App","countryID","setCountryID","timezoneByCountry","setTimezoneByCountry","selectedTZ","setSelectedTZ","selectedTime","setSelectedTime","bool","timeBool","getCountryByClick","event","theID","target","value","console","log","selectedCountry","find","el","alpha2","toUpperCase","document","title","getZoneByClick","zone","fetch","then","res","json","data","timezones","length","method","headers","body","JSON","stringify","message","map","name","Wrapper","div","Select1","select","Select2"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport countries from './countries'\n\n\nconst App=() => {\n  const [countryID, setCountryID]=useState('');\n  const [timezoneByCountry, setTimezoneByCountry]=useState([]);\n  const [selectedTZ, setSelectedTZ]=useState('');\n  const [selectedTime, setSelectedTime]=useState('');\n  let bool=false;\n  let timeBool=false;\n\n  const getCountryByClick=(event)=>{\n    const theID=event.target.value;\n    if(theID!==\"Select a country\"){\n      console.log(theID);\n      let selectedCountry= countries.find(el=>theID===el.alpha2)\n      setCountryID(selectedCountry.alpha2.toUpperCase());\n    }\n  };\n\n  useEffect(()=>{\n    document.title=\"World Clock\";\n  },[])\n\n  const getZoneByClick=(event)=>{\n    let zone=event.target.value;\n    if(zone!==\"Select country specific timezone\"){\n      console.log(zone);\n      setSelectedTZ(zone);\n    }\n  };\n  useEffect(()=>{\n    fetch(`/timezone/${countryID}`)\n    .then(res=>res.json())\n    .then(res=>{\n      setTimezoneByCountry(res.data.timezones);\n      //console.log(res);\n    });\n  },[countryID]);\n\n  if(timezoneByCountry.length>=1){\n    bool=true;\n  }\n\n  if(selectedTime.length!==0){\n    timeBool=true;\n  }\n\n  useEffect(()=>{\n    fetch('/timezone/zone', {\n      method:'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({'zone': selectedTZ})\n    })\n    .then(res=>res.json())\n    .then(res=>setSelectedTime(res.message));\n  },[selectedTZ]);\n  \n  return (\n    <Wrapper>\n      <Select1 onChange={getCountryByClick}>\n      <option value=\"Select a country\">Select a country</option>\n        {countries.map(el=>{\n          return <option value={el.alpha2}\n                  key={el.name} \n                  id={el.alpha2}\n                  >{el.name}</option>\n        })}\n      </Select1>\n      {bool && <Select2 onChange={getZoneByClick}>\n          <option>Select country specific timezone</option>\n          {timezoneByCountry.map(el=>{\n            return <option value={el}\n                            id={el}\n                    >{el}</option>\n          })}\n        </Select2>}\n\n        {timeBool && <p>{selectedTime}</p>}\n    </Wrapper>\n  );\n};\n\nexport default App;\n\nconst Wrapper=styled.div`\n  display: flex;\n  flex-direction:column;\n  justify-content: center;\n  align-items: center;\n  vertical-align: middle;\n  height:100vh;\n`;\n\nconst Select1=styled.select`\n  width:400px;\n  margin:10px;\n`;\n\nconst Select2=styled.select`\n  width:300px;\n  margin:10px;\n`;"]},"metadata":{},"sourceType":"module"}